<ng-container *ngIf="accessToken() as accessToken; else loading">
  <pre>{{ accessToken | json }}</pre>

  <ng-container *ngIf="idToken() as idToken">
    <pre>{{ idToken.header | json }}</pre>
    <pre>{{ idToken.payload | json }}</pre>
    <pre>{{ idToken.content }}</pre>
    <pre>{{ idToken.signature }}</pre>
  </ng-container>
</ng-container>

<span *ngIf="errorMessage() as errorMessage">{{ errorMessage }}</span>

<ng-template #loading>
  <div>loading...</div>
</ng-template>
